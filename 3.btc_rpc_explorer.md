- [ ] install nodejs
- [ ] install BTC rcp explorer
- [ ] How to use BTC rpc explorer

## 1. Install Node.js

### 1.1 go to [https://nodejs.org/en/download](https://nodejs.org/en/download)

> [!NOTE]
> LTS is Long Term Support version, recommended for most users.

### 1.2. install Node.js following the instructions for your operating system.

```bash
# Download and install nvm:
curl -o- https://raw.githubusercontent.com/nvm-sh/nvm/v0.40.3/install.sh | bash

# in lieu of restarting the shell
\. "$HOME/.nvm/nvm.sh"

# Download and install Node.js:
nvm install 22

# Verify the Node.js version:
node -v # Should print "v22.20.0".

# Verify npm version:
npm -v # Should print "10.9.3".
```

## 2. Install BTC RPC Explorer

### 2.1 go to github repo [https://github.com/janoside/btc-rpc-explorer](https://github.com/janoside/btc-rpc-explorer)

### 2.2 Clone the repo, on the Bitcoin RPC Explorer GitHub page,

click `<> Code` then copy HTTPS and run git clone

```bash
$ cd
$ git clone https://github.com/janoside/btc-rpc-explorer.git
$ cd btc-rpc-explorer
```

### 2.3 Install dependencies

```bash
$ npm install
```

### 2.4 Configure BTC RPC explorer

you can config 2 places

- `.env` in the root of the cloned repo
- `~/.config/btc-rpc-explorer.env`

> [!NOTE]
> we use `.env` in the root of the cloned repo

### 2.5 copy the sample env file

```bash
$ cp .env-sample .env
```

### 2.6 edit `.env` file

```bash
$ nano .env
```

uncomment and change the following lines

```ini
# Host/Port to bind to
# Defaults: shown
BTCEXP_HOST=0.0.0.0
BTCEXP_PORT=3002


# Bitcoin RPC Credentials (URI -OR- HOST/PORT/USER/PASS)
# Defaults:
#   - [host/port]: 127.0.0.1:8332
#   - [username/password]: none
#   - cookie: '~/.bitcoin/.cookie'
#   - timeout: 5000 (ms)
#BTCEXP_BITCOIND_URI=bitcoin://rpcusername:rpcpassword@127.0.0.1:8332?timeout=10000
BTCEXP_BITCOIND_HOST=<ip-of-your-bitcoin-node>
BTCEXP_BITCOIND_PORT=<rpc-port-of-your-bitcoin-node>
BTCEXP_BITCOIND_USER=<your-rpc-username>
BTCEXP_BITCOIND_PASS=<your-rpc-password>
BTCEXP_BITCOIND_COOKIE=/path/to/bitcoind/.cookie
#BTCEXP_BITCOIND_RPC_TIMEOUT=5000
```

### 2.7 config Firewall

```bash
$ sudo ufw allow 3002/tcp comment 'btc-rpc-explorer'
$ sudo ufw reload
Firewall reloaded
$ sudo ufw status
To                         Action      From
--                         ------      ----
...
3002/tcp                   ALLOW       Anywhere                   # btc-rpc-explorer
...
3002/tcp (v6)              ALLOW       Anywhere (v6)              # btc-rpc-explorer
...

```

### 2.8 start BTC RPC explorer

```bash
$ npm start
```

go to [http://localhost:3002](http://localhost:3002) and should see BTC RPC explorer UI

![btc-rpc-explorer-figure1](assets/btc-rpc-explorer1.png)

### 2.9 edit .env add electrs server to BTC RPC btc-rpc-explorer

uncomment and change the following lines in `.env` file

```env
# Default: none
#BTCEXP_ADDRESS_API=(electrum|electrumx|blockchain.com|blockchair.com|blockcypher.com)
BTCEXP_ADDRESS_API=electrum


# Optional Electrum Protocol Servers. See BTCEXP_ADDRESS_API. This value is only
# used if BTCEXP_ADDRESS_API=electrum (or the old value "electrumx")

# This variable was formerly named BTCEXP_ELECTRUMX_SERVERS and that name still works.
#
# Default: none
#BTCEXP_ELECTRUM_SERVERS=tls://electrumx.server.com:50002,tcp://127.0.0.1:50001,...
BTCEXP_ELECTRUM_SERVERS=tcp://0.0.0.0:50001


# Whether to use the Electrum server as an external txindex.
# This is only available in the Electrs implementation. Electrs txindex can serve as a
# full replacement for the Bitcoin Core txindex, but Bitcoin Core's implementation
# is likely faster.
#BTCEXP_ELECTRUM_TXINDEX=true
BTCEXP_ELECTRUM_TXINDEX=true


# Rate limiting
# Window size, in minutes, set to -1 to disable rate limiting
BTCEXP_RATE_LIMIT_WINDOW_MINUTES=-1
# Window max requests allowed
BTCEXP_RATE_LIMIT_WINDOW_MAX_REQUESTS=0
```

now restart BTC RPC explorer

```bash
$ npm start
```

### 2.10 set file system run btc rpc explorer on startup

create a systemd service file `/etc/systemd/system/btc-rpc-explorer.service`

```bash
$ sudo vim /etc/systemd/system/btcrpcexplorer.service
```

add the following content

```ini
[Unit]
Description=BTC RPC Explorer
Requires=bitcoind.service electrs.service
After=bitcoind.service electrs.service

[Service]
User=pi
Group=pi
WorkingDirectory=/home/pi/btc-rpc-explorer


Environment="NVM_DIR=/home/pi/.nvm"
Environment="PATH=/home/pi/.nvm/versions/node/v22.20.0/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin"

Environment=NODE_ENV=production
ExecStart=/home/pi/.nvm/versions/node/v22.20.0/bin/npm start

Restart=on-failure
RestartSec=3


PrivateTmp=true
ProtectSystem=full
NoNewPrivileges=true
PrivateDevices=true

[Install]
WantedBy=multi-user.target
```

replace `pi` with your username and `/home/pi/btc-rpc-explorer` with your cloned repo path

### 2.11 enable and start the service

```bash
$ sudo systemctl daemon-reload
$ sudo systemctl enable btc-rpc-explorer
Created symlink /etc/systemd/system/multi-user.target.wants/btc-rpc-explorer.service → /etc/systemd/system/btc-rpc-explorer.service.
$ sudo systemctl start btc-rpc-explorer
$ sudo systemctl status btc-rpc-explorer
$ sudo systemctl status btc-rpc-explorer.service
● btc-rpc-explorer.service - BTC RPC Explorer
     Loaded: loaded (/etc/systemd/system/btc-rpc-explorer.service; enabled; preset: enabled)
     Active: active (running) since Fri 2025-10-10 10:10:47 +07; 1min 8s ago
   Main PID: 152082 (npm start)
      Tasks: 23 (limit: 9572)
        CPU: 1.719s
     CGroup: /system.slice/btc-rpc-explorer.service
             ├─152082 "npm start"
             ├─152093 sh -c "node ./bin/www"
             └─152094 node ./bin/www
```

## 3. (Optional) Run BTC RPC Explorer as a Tor Hidden Service

### 3.1 edit tor config file

```bash
$ sudo nano /etc/tor/torrc
```

add the following lines to the end of the file

```ini
# btc-rpc-explorer
HiddenServiceDir /var/lib/tor/btc-rpc-explorer/
HiddenServicePort 3002 127.0.0.1:3002
HiddenServiceVersion 3
HiddenServiceEnableIntroDoSDefense 1
```

### 3.2 create the hidden service directory and set permissions

```bash
$ sudo mkdir -p /var/lib/tor/btc-rpc-explorer
$ sudo chown -R debian-tor:debian-tor /var/lib/tor/btc-rpc-explorer
$ sudo chmod 700 /var/lib/tor/btc-rpc-explorer
```

### 3.3 restart tor service

```bash
$ sudo systemctl restart tor
```

### 3.4 get your .onion address

```bash
$ sudo cat /var/lib/tor/btc-rpc-explorer/hostname
youraddress.onion
```

### 3.5 access BTC RPC Explorer via Tor

open Tor Browser and go to `http://youraddress.onion:3002`

> [!NOTE]
> must open in Tor Browser if you access via .onion address (not in normal browser)

---
